
<div id="app"></div>

<script>
    let data = {
        a: 10,
        message: 'hi'
    }

    function render(sth) {
        let div = document.querySelector('#app');
        div.innerHTML = sth;
    }

    render(data.message);

    // data 의 데이터가 변경되었을때 추가적인 동작을 할 수 있도록 별도의 javascript api 사용
    // arg 1 : 타겟 값 입력
    // arg 2 : 데이터의 동작을 정의
    let app = new Proxy(data, {
        // https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/get
        get(target, p, receiver) {
            console.log('Proxy get called')
        },
        // https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/set
        set(target, prop, newValue, receiver) {
            console.log('Proxy set called')
            target[prop] = newValue;
            render(newValue);
        }
    })
</script>